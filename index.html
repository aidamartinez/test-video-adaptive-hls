<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<title>HLS video adaptive bitrate test</title>
	<meta name="description" content="UPDATE THIS">
	<meta name="author" content="UPDATE THIS">

	<link rel="stylesheet" href="css/styles.css">

	<!--[if lt IE 9]>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
	<![endif]-->
</head>

<body>
	<style>
		.title{
			text-align: center;
		}
		.video{
			display: block;
			margin: 30px auto;
		}
	</style>
	<h1 class="title">TWK video testing (ABR)</h1>
	<h2 class="title">Video with no limitations</h2>
	<video height="600" id="video-1" class="video" controls></video>
	<h2 class="title">Video with 360p as a limitation</h2>
	<video height="600" id="video-2" class="video" controls></video>
	<h2 class="title">Video with no controls (play, pause...)</h2>
	<video height="600" id="video-3" class="video"></video>

	<script src="hls.js"></script>
	<script>
		var video1 = document.getElementById('video-1');

		if (Hls.isSupported()) {
			var hls = new Hls({
				debug: true,
			});

			hls.loadSource('https://res.cloudinary.com/diysy9gxn/video/upload/sp_auto/v1606912624/samples/elephants.m3u8');
			hls.attachMedia(video1);
			hls.on(Hls.Events.MEDIA_ATTACHED, function () {
				video1.muted = true;
				video1.play();
			});
		}
		// hls.js is not supported on platforms that do not have Media Source Extensions (MSE) enabled.
		// When the browser has built-in HLS support (check using `canPlayType`), we can provide an HLS manifest (i.e. .m3u8 URL) directly to the video element through the `src` property.
		// This is using the built-in support of the plain video element, without using hls.js.
		else if (video1.canPlayType('application/vnd.apple.mpegurl')) {
			video1.src = 'https://res.cloudinary.com/diysy9gxn/video/upload/sp_auto/v1606912624/samples/elephants.m3u8';
			video1.addEventListener('canplay', function () {
				video1.play();
			});
		}



		var video2 = document.getElementById('video-2');

		if (Hls.isSupported()) {
			var hls = new Hls({
				debug: true,
			});

			hls.loadSource('https://res.cloudinary.com/diysy9gxn/video/upload/sp_auto:maxres_360p/v1606912624/samples/elephants.m3u8');
			hls.attachMedia(video2);
			hls.on(Hls.Events.MEDIA_ATTACHED, function () {
				video2.muted = true;
				video2.play();
			});
		}
		// hls.js is not supported on platforms that do not have Media Source Extensions (MSE) enabled.
		// When the browser has built-in HLS support (check using `canPlayType`), we can provide an HLS manifest (i.e. .m3u8 URL) directly to the video element through the `src` property.
		// This is using the built-in support of the plain video element, without using hls.js.
		else if (video2.canPlayType('application/vnd.apple.mpegurl')) {
			video2.src = 'https://res.cloudinary.com/diysy9gxn/video/upload/sp_auto:maxres_360p/v1606912624/samples/elephants.m3u8';
			video2.addEventListener('canplay', function () {
				video2.play();
			});
		}




		var video3 = document.getElementById('video-3');

		if (Hls.isSupported()) {
			var hls = new Hls({
				debug: true,
			});

			hls.loadSource('https://res.cloudinary.com/diysy9gxn/video/upload/sp_auto/v1606912624/samples/elephants.m3u8');
			hls.attachMedia(video3);
			hls.on(Hls.Events.MEDIA_ATTACHED, function () {
				video3.muted = true;
				video3.play();
			});
		}
		// hls.js is not supported on platforms that do not have Media Source Extensions (MSE) enabled.
		// When the browser has built-in HLS support (check using `canPlayType`), we can provide an HLS manifest (i.e. .m3u8 URL) directly to the video element through the `src` property.
		// This is using the built-in support of the plain video element, without using hls.js.
		else if (video3.canPlayType('application/vnd.apple.mpegurl')) {
			video3.src = 'https://res.cloudinary.com/diysy9gxn/video/upload/sp_auto/v1606912624/samples/elephants.m3u8';
			video3.addEventListener('canplay', function () {
				video3.play();
			});
		}
	</script>
</body>
</html>